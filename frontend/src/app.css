@import "tailwindcss";

/* ═══════════════════════════════════════════════════════════════
   Myrlin Workbook Theme System
   CSS custom properties for 13 themes — referenced by Tailwind via @theme
   ═══════════════════════════════════════════════════════════════ */

@theme {
  /* Map CSS custom properties to Tailwind tokens */
  --color-base: var(--base);
  --color-mantle: var(--mantle);
  --color-crust: var(--crust);
  --color-surface-0: var(--surface0);
  --color-surface-1: var(--surface1);
  --color-surface-2: var(--surface2);
  --color-overlay-0: var(--overlay0);
  --color-overlay-1: var(--overlay1);
  --color-th-text: var(--text);
  --color-subtext-0: var(--subtext0);
  --color-subtext-1: var(--subtext1);
  --color-th-mauve: var(--mauve);
  --color-th-blue: var(--blue);
  --color-th-green: var(--green);
  --color-th-yellow: var(--yellow);
  --color-th-red: var(--red);
  --color-th-peach: var(--peach);
  --color-th-teal: var(--teal);
  --color-th-sky: var(--sky);
  --color-th-pink: var(--pink);
  --color-th-lavender: var(--lavender);
  --color-th-flamingo: var(--flamingo);
  --color-th-rosewater: var(--rosewater);
  --color-th-sapphire: var(--sapphire);
  --color-accent: var(--accent);

  /* Semantic */
  --color-bg-primary: var(--bg-primary);
  --color-bg-secondary: var(--bg-secondary);
  --color-bg-tertiary: var(--bg-tertiary);
  --color-bg-elevated: var(--bg-elevated);
  --color-border-subtle: var(--border-subtle);
  --color-border-default: var(--border-default);
  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-text-tertiary: var(--text-tertiary);
  --color-text-muted: var(--text-muted);

  /* Radii (not self-referencing — these are Tailwind token definitions) */
  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 14px;
  --radius-xl: 18px;

  /* Fonts */
  --font-sans: 'Plus Jakarta Sans', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-mono: 'JetBrains Mono', 'Cascadia Code', 'Fira Code', monospace;
}

/* ─── Default theme: Catppuccin Mocha ──────────────────────── */

:root {
  --base: #1e1e2e;
  --mantle: #181825;
  --crust: #11111b;
  --surface0: #313244;
  --surface1: #45475a;
  --surface2: #585b70;
  --overlay0: #6c7086;
  --overlay1: #7f849c;
  --text: #cdd6f4;
  --subtext0: #a6adc8;
  --subtext1: #bac2de;
  --mauve: #cba6f7;
  --blue: #89b4fa;
  --green: #a6e3a1;
  --yellow: #f9e2af;
  --red: #f38ba8;
  --peach: #fab387;
  --teal: #94e2d5;
  --sky: #89dceb;
  --pink: #f5c2e7;
  --lavender: #b4befe;
  --flamingo: #f2cdcd;
  --rosewater: #f5e0dc;
  --sapphire: #74c7ec;

  /* Semantic tokens */
  --bg-primary: var(--base);
  --bg-secondary: var(--mantle);
  --bg-tertiary: var(--crust);
  --bg-elevated: var(--surface0);
  --border-subtle: rgba(69, 71, 90, 0.5);
  --border-default: var(--surface1);
  --text-primary: var(--text);
  --text-secondary: var(--subtext1);
  --text-tertiary: var(--subtext0);
  --text-muted: var(--overlay1);
  --accent: var(--mauve);

  /* UI Scale */
  --ui-scale: 1;

  /* Dimensions */
  --sidebar-width: 280px;
  --header-height: 80px;
  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 14px;
  --radius-xl: 18px;

  /* Transitions */
  --transition-fast: 150ms cubic-bezier(0.16, 1, 0.3, 1);
  --transition-normal: 200ms cubic-bezier(0.16, 1, 0.3, 1);
  --transition-slow: 300ms cubic-bezier(0.16, 1, 0.3, 1);

  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.2), 0 1px 3px rgba(0, 0, 0, 0.15);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.25), 0 2px 4px rgba(0, 0, 0, 0.2);
  --shadow-lg: 0 8px 30px rgba(0, 0, 0, 0.35), 0 4px 12px rgba(0, 0, 0, 0.25);
  --shadow-xl: 0 16px 50px rgba(0, 0, 0, 0.45), 0 8px 20px rgba(0, 0, 0, 0.3);

  /* Typography */
  --font-sans: 'Plus Jakarta Sans', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-mono: 'JetBrains Mono', 'Cascadia Code', 'Fira Code', monospace;

  font-family: var(--font-sans);
  font-size: 14px;
  line-height: 1.5;
  color: var(--text-primary);
  background: var(--bg-primary);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

html, body {
  height: 100%;
  overflow: hidden;
}

html {
  zoom: var(--ui-scale, 1);
}

#app {
  height: 100%;
}

[hidden] {
  display: none !important;
}

::selection {
  background: rgba(203, 166, 247, 0.25);
  color: var(--text);
}

:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

/* Scrollbar */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb {
  background: var(--surface2);
  border-radius: 3px;
}
::-webkit-scrollbar-thumb:hover {
  background: var(--overlay0);
}

/* Firefox scrollbar */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--surface2) transparent;
}

/* ═══════════════════════════════════════════════════════════════
   THEME OVERRIDES
   ═══════════════════════════════════════════════════════════════ */

/* Catppuccin Latte (Light) */
:root[data-theme="latte"] {
  --base: #eff1f5; --mantle: #e6e9ef; --crust: #dce0e8;
  --surface0: #ccd0da; --surface1: #bcc0cc; --surface2: #acb0be;
  --overlay0: #9ca0b0; --overlay1: #8c8fa1;
  --text: #4c4f69; --subtext0: #6c6f85; --subtext1: #5c5f77;
  --mauve: #8839ef; --blue: #1e66f5; --green: #40a02b;
  --yellow: #df8e1d; --red: #d20f39; --peach: #fe640b;
  --teal: #179299; --sky: #04a5e5; --pink: #ea76cb;
  --lavender: #7287fd; --flamingo: #dd7878; --rosewater: #dc8a78; --sapphire: #209fb5;
  --border-subtle: rgba(172, 176, 190, 0.5);
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.06), 0 1px 3px rgba(0,0,0,0.04);
  --shadow-md: 0 4px 12px rgba(0,0,0,0.08), 0 2px 4px rgba(0,0,0,0.06);
  --shadow-lg: 0 8px 30px rgba(0,0,0,0.1), 0 4px 12px rgba(0,0,0,0.08);
  --shadow-xl: 0 16px 50px rgba(0,0,0,0.12), 0 8px 20px rgba(0,0,0,0.1);
}
:root[data-theme="latte"] ::selection { background: rgba(136, 57, 239, 0.2); color: var(--text); }

/* Catppuccin Frappe (Medium-Dark) */
:root[data-theme="frappe"] {
  --base: #303446; --mantle: #292c3c; --crust: #232634;
  --surface0: #414559; --surface1: #51576d; --surface2: #626880;
  --overlay0: #737994; --overlay1: #838ba7;
  --text: #c6d0f5; --subtext0: #a5adce; --subtext1: #b5bfe2;
  --mauve: #ca9ee6; --blue: #8caaee; --green: #a6d189;
  --yellow: #e5c890; --red: #e78284; --peach: #ef9f76;
  --teal: #81c8be; --sky: #99d1db; --pink: #f4b8e4;
  --lavender: #babbf1; --flamingo: #eebebe; --rosewater: #f2d5cf; --sapphire: #85c1dc;
  --border-subtle: rgba(98, 104, 128, 0.5);
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.2); --shadow-md: 0 4px 12px rgba(0,0,0,0.25);
  --shadow-lg: 0 8px 30px rgba(0,0,0,0.3); --shadow-xl: 0 16px 50px rgba(0,0,0,0.35);
}
:root[data-theme="frappe"] ::selection { background: rgba(202, 158, 230, 0.25); color: var(--text); }

/* Catppuccin Macchiato (Dark-Warm) */
:root[data-theme="macchiato"] {
  --base: #24273a; --mantle: #1e2030; --crust: #181926;
  --surface0: #363a4f; --surface1: #494d64; --surface2: #5b6078;
  --overlay0: #6e738d; --overlay1: #8087a2;
  --text: #cad3f5; --subtext0: #a5adcb; --subtext1: #b8c0e0;
  --mauve: #c6a0f6; --blue: #8aadf4; --green: #a6da95;
  --yellow: #eed49f; --red: #ed8796; --peach: #f5a97f;
  --teal: #8bd5ca; --sky: #91d7e3; --pink: #f5bde6;
  --lavender: #b7bdf8; --flamingo: #f0c6c6; --rosewater: #f4dbd6; --sapphire: #7dc4e4;
  --border-subtle: rgba(91, 96, 120, 0.5);
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.2); --shadow-md: 0 4px 12px rgba(0,0,0,0.25);
  --shadow-lg: 0 8px 30px rgba(0,0,0,0.3); --shadow-xl: 0 16px 50px rgba(0,0,0,0.35);
}
:root[data-theme="macchiato"] ::selection { background: rgba(198, 160, 246, 0.25); color: var(--text); }

/* Cherry (Rose-Tinted Dark) */
:root[data-theme="cherry"] {
  --base: #221a22; --mantle: #1c141c; --crust: #161018;
  --surface0: #382e3a; --surface1: #4c404e; --surface2: #605464;
  --overlay0: #786c80; --overlay1: #908498;
  --text: #f0ddf0; --subtext0: #c8b4cc; --subtext1: #dcc8e0;
  --mauve: #e890c8; --blue: #90b0ea; --green: #a0d890;
  --yellow: #f0d098; --red: #f07888; --peach: #f0a088;
  --teal: #80d8c0; --sky: #90c8ea; --pink: #f5a0d0;
  --lavender: #c0a8f0; --flamingo: #f0b8b8; --rosewater: #f5d0c8; --sapphire: #80c0e0;
  --border-subtle: rgba(96, 84, 100, 0.5);
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.2); --shadow-md: 0 4px 12px rgba(0,0,0,0.25);
  --shadow-lg: 0 8px 30px rgba(0,0,0,0.3); --shadow-xl: 0 16px 50px rgba(0,0,0,0.35);
}
:root[data-theme="cherry"] ::selection { background: rgba(245, 160, 208, 0.25); color: var(--text); }

/* Ocean (Cool Navy Dark) */
:root[data-theme="ocean"] {
  --base: #1a1e28; --mantle: #141822; --crust: #10141c;
  --surface0: #283040; --surface1: #384254; --surface2: #4a5668;
  --overlay0: #607080; --overlay1: #788898;
  --text: #d8e4f5; --subtext0: #a0b4cc; --subtext1: #b8ccdc;
  --mauve: #b0a0ea; --blue: #70a8f0; --green: #80d8a0;
  --yellow: #f0d880; --red: #f08888; --peach: #f0b088;
  --teal: #60d8d0; --sky: #80c8f0; --pink: #ea9cc8;
  --lavender: #a0b0f0; --flamingo: #f0c0c0; --rosewater: #f0d8d0; --sapphire: #68c0f0;
  --border-subtle: rgba(74, 86, 104, 0.5);
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.2); --shadow-md: 0 4px 12px rgba(0,0,0,0.25);
  --shadow-lg: 0 8px 30px rgba(0,0,0,0.3); --shadow-xl: 0 16px 50px rgba(0,0,0,0.35);
}
:root[data-theme="ocean"] ::selection { background: rgba(112, 168, 240, 0.25); color: var(--text); }

/* Amber (Warm Gold Dark) */
:root[data-theme="amber"] {
  --base: #211e1a; --mantle: #1b1816; --crust: #151210;
  --surface0: #38322a; --surface1: #4c4438; --surface2: #605848;
  --overlay0: #787060; --overlay1: #8e8878;
  --text: #f0e8d8; --subtext0: #ccc0a8; --subtext1: #dcd4bc;
  --mauve: #d0a8d8; --blue: #88b4d8; --green: #a0d090;
  --yellow: #f0d070; --red: #e08878; --peach: #f0b870;
  --teal: #78c8b8; --sky: #88c0d8; --pink: #e0a8c0;
  --lavender: #b0a8d0; --flamingo: #e8c0a8; --rosewater: #f0d8c0; --sapphire: #78b8d0;
  --border-subtle: rgba(96, 88, 72, 0.5);
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.2); --shadow-md: 0 4px 12px rgba(0,0,0,0.25);
  --shadow-lg: 0 8px 30px rgba(0,0,0,0.3); --shadow-xl: 0 16px 50px rgba(0,0,0,0.35);
}
:root[data-theme="amber"] ::selection { background: rgba(240, 208, 112, 0.25); color: var(--text); }

/* Mint (Cool Green-Tinted Dark) */
:root[data-theme="mint"] {
  --base: #1a2120; --mantle: #161b1a; --crust: #101514;
  --surface0: #2a3634; --surface1: #3c4a48; --surface2: #4e5e5c;
  --overlay0: #647676; --overlay1: #7c8e8e;
  --text: #d8f0e8; --subtext0: #a8ccc0; --subtext1: #c0dcd4;
  --mauve: #c0a0e0; --blue: #80b4e0; --green: #78e0a0;
  --yellow: #e0d890; --red: #e09090; --peach: #e8b890;
  --teal: #60e0c8; --sky: #80d0ea; --pink: #e0a8c8;
  --lavender: #a8a8e0; --flamingo: #e8c0c0; --rosewater: #f0d8d0; --sapphire: #70c0e0;
  --border-subtle: rgba(78, 94, 92, 0.5);
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.2); --shadow-md: 0 4px 12px rgba(0,0,0,0.25);
  --shadow-lg: 0 8px 30px rgba(0,0,0,0.3); --shadow-xl: 0 16px 50px rgba(0,0,0,0.35);
}
:root[data-theme="mint"] ::selection { background: rgba(120, 224, 160, 0.25); color: var(--text); }

/* Nord (Dark — Polar Night & Aurora) */
:root[data-theme="nord"] {
  --base: #2e3440; --mantle: #292e39; --crust: #242933;
  --surface0: #3b4252; --surface1: #434c5e; --surface2: #4c566a;
  --overlay0: #616e88; --overlay1: #6e7e99;
  --text: #eceff4; --subtext0: #a5b1c2; --subtext1: #d8dee9;
  --mauve: #b48ead; --blue: #81a1c1; --green: #a3be8c;
  --yellow: #ebcb8b; --red: #bf616a; --peach: #d08770;
  --teal: #8fbcbb; --sky: #88c0d0; --pink: #b48ead;
  --lavender: #9db2cf; --flamingo: #d08770; --rosewater: #d8b4a0; --sapphire: #5e81ac;
  --border-subtle: rgba(67, 76, 94, 0.5);
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.2); --shadow-md: 0 4px 12px rgba(0,0,0,0.25);
  --shadow-lg: 0 8px 30px rgba(0,0,0,0.3); --shadow-xl: 0 16px 50px rgba(0,0,0,0.35);
}
:root[data-theme="nord"] ::selection { background: rgba(129, 161, 193, 0.25); color: var(--text); }

/* Dracula (Dark — Iconic Purple & Neon) */
:root[data-theme="dracula"] {
  --base: #282a36; --mantle: #21222c; --crust: #191a21;
  --surface0: #343746; --surface1: #44475a; --surface2: #545768;
  --overlay0: #6272a4; --overlay1: #7283b5;
  --text: #f8f8f2; --subtext0: #b8b8b0; --subtext1: #d8d8d0;
  --mauve: #bd93f9; --blue: #8be9fd; --green: #50fa7b;
  --yellow: #f1fa8c; --red: #ff5555; --peach: #ffb86c;
  --teal: #8be9fd; --sky: #8be9fd; --pink: #ff79c6;
  --lavender: #caa9fa; --flamingo: #ff79c6; --rosewater: #ffd0e0; --sapphire: #6cb6ff;
  --border-subtle: rgba(68, 71, 90, 0.5);
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.2); --shadow-md: 0 4px 12px rgba(0,0,0,0.25);
  --shadow-lg: 0 8px 30px rgba(0,0,0,0.3); --shadow-xl: 0 16px 50px rgba(0,0,0,0.35);
}
:root[data-theme="dracula"] ::selection { background: rgba(189, 147, 249, 0.25); color: var(--text); }

/* Tokyo Night (Dark — Neon City Lights) */
:root[data-theme="tokyo-night"] {
  --base: #1a1b26; --mantle: #16161e; --crust: #12121a;
  --surface0: #292e42; --surface1: #3b4261; --surface2: #545c7e;
  --overlay0: #565f89; --overlay1: #6b7394;
  --text: #c0caf5; --subtext0: #9aa5ce; --subtext1: #a9b1d6;
  --mauve: #bb9af7; --blue: #7aa2f7; --green: #9ece6a;
  --yellow: #e0af68; --red: #f7768e; --peach: #ff9e64;
  --teal: #73daca; --sky: #7dcfff; --pink: #ff79c6;
  --lavender: #b4befe; --flamingo: #f7768e; --rosewater: #ffc0cb; --sapphire: #2ac3de;
  --border-subtle: rgba(59, 66, 97, 0.5);
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.2); --shadow-md: 0 4px 12px rgba(0,0,0,0.25);
  --shadow-lg: 0 8px 30px rgba(0,0,0,0.3); --shadow-xl: 0 16px 50px rgba(0,0,0,0.35);
}
:root[data-theme="tokyo-night"] ::selection { background: rgba(122, 162, 247, 0.25); color: var(--text); }

/* Rose Pine Dawn (Light — Soft Warm Rose) */
:root[data-theme="rose-pine-dawn"] {
  --base: #faf4ed; --mantle: #f2e9e1; --crust: #ebe0d6;
  --surface0: #f4ede8; --surface1: #dfdad9; --surface2: #cecacd;
  --overlay0: #9893a5; --overlay1: #797593;
  --text: #575279; --subtext0: #6e6a86; --subtext1: #635f7b;
  --mauve: #907aa9; --blue: #286983; --green: #56949f;
  --yellow: #ea9d34; --red: #b4637a; --peach: #d7827e;
  --teal: #56949f; --sky: #56949f; --pink: #d7827e;
  --lavender: #907aa9; --flamingo: #d7827e; --rosewater: #d7827e; --sapphire: #286983;
  --border-subtle: rgba(206, 202, 205, 0.5);
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.06), 0 1px 3px rgba(0,0,0,0.04);
  --shadow-md: 0 4px 12px rgba(0,0,0,0.08), 0 2px 4px rgba(0,0,0,0.06);
  --shadow-lg: 0 8px 30px rgba(0,0,0,0.1), 0 4px 12px rgba(0,0,0,0.08);
  --shadow-xl: 0 16px 50px rgba(0,0,0,0.12), 0 8px 20px rgba(0,0,0,0.1);
}
:root[data-theme="rose-pine-dawn"] ::selection { background: rgba(144, 122, 169, 0.2); color: var(--text); }

/* Gruvbox Light (Light — Warm Retro Earthy) */
:root[data-theme="gruvbox-light"] {
  --base: #fbf1c7; --mantle: #f2e5bc; --crust: #ebdbb2;
  --surface0: #d5c4a1; --surface1: #bdae93; --surface2: #a89984;
  --overlay0: #928374; --overlay1: #7c6f64;
  --text: #3c3836; --subtext0: #504945; --subtext1: #453e3a;
  --mauve: #8f3f71; --blue: #076678; --green: #79740e;
  --yellow: #b57614; --red: #9d0006; --peach: #af3a03;
  --teal: #427b58; --sky: #076678; --pink: #8f3f71;
  --lavender: #8f3f71; --flamingo: #af3a03; --rosewater: #c8956c; --sapphire: #458588;
  --border-subtle: rgba(168, 153, 132, 0.5);
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.06), 0 1px 3px rgba(0,0,0,0.04);
  --shadow-md: 0 4px 12px rgba(0,0,0,0.08), 0 2px 4px rgba(0,0,0,0.06);
  --shadow-lg: 0 8px 30px rgba(0,0,0,0.1), 0 4px 12px rgba(0,0,0,0.08);
  --shadow-xl: 0 16px 50px rgba(0,0,0,0.12), 0 8px 20px rgba(0,0,0,0.1);
}
:root[data-theme="gruvbox-light"] ::selection { background: rgba(175, 58, 3, 0.2); color: var(--text); }

/* ─── xterm.js base overrides ──────────────────────────────── */
.xterm { height: 100%; }
.xterm-viewport { overflow-y: auto !important; }
